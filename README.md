[ğŸ‡¨ğŸ‡³ ä¸­æ–‡æ–‡æ¡£](#chinese) | [ğŸ‡ºğŸ‡¸ English](#english)

<a id="chinese"></a>
# æ— äººæœºç¼–é˜Ÿæ§åˆ¶æ¨¡å‹

[![Status](https://img.shields.io/badge/Status-Completed-brightgreen.svg)](https://github.com) [![Language](https://img.shields.io/badge/Language-MATLAB-blue.svg)](https://www.mathworks.com/products/matlab.html) [![MATLAB Version](https://img.shields.io/badge/MATLAB-2023b%20or%20any-orange.svg)](https://www.mathworks.com/products/matlab.html)

å…¶ä»–ç¼–é˜Ÿé¡¹ç›®ï¼ˆå‹é“¾ï¼‰ï¼š
- [Flocking-Formation-Control](https://github.com/Ronchy2000/Flocking-Formation-Control)ï¼šç¾¤é›†/ç¼–é˜Ÿæ§åˆ¶ç›¸å…³å®ç°
- [Formation_Control_quadrangular](https://github.com/Ronchy2000/Formation_Control_quadrangular)ï¼šå››è¾¹å½¢ç¼–é˜Ÿæ§åˆ¶å®ç°

æœ¬ä»“åº“åŒ…å«äº†åŸºäºç¯å½¢æ‹“æ‰‘çš„æ— äººæœºç¼–é˜Ÿæ§åˆ¶ç®—æ³•å®ç°ï¼Œåˆ†ä¸º2Då¹³é¢ç¼–é˜Ÿå’Œ3Dç©ºé—´ç¼–é˜Ÿä¸¤ç§æ¨¡å¼ã€‚

æˆ‘è¿˜æœ‰å…¶ä»–ç¼–é˜Ÿç›¸å…³ä»£ç ä»“åº“ï¼Œæ¬¢è¿æŸ¥çœ‹ï¼š
- [Flocking-Formation-Control](https://github.com/Ronchy2000/Flocking-Formation-Control)ï¼šç¾¤ä½“/ç¼–é˜ŸååŒæ§åˆ¶çš„å®ç°ä¸å®éªŒ
- [Formation_Control_quadrangular](https://github.com/Ronchy2000/Formation_Control_quadrangular)ï¼šå››è¾¹å½¢ç¼–é˜Ÿæ§åˆ¶å®ç°

## é¡¹ç›®ç»“æ„

æœ¬é¡¹ç›®åŒ…å«åŸå§‹ç‰ˆæœ¬å’Œæ›´æ–°ç‰ˆæœ¬çš„ç¼–é˜Ÿæ§åˆ¶ç®—æ³•å®ç°ï¼š

- åŸå§‹ç‰ˆæœ¬ï¼š`ring_formation_control_main_2D.m`å’Œ`ring_formation_control_3D.m`
- æ›´æ–°ç‰ˆæœ¬ï¼š`ring_formation_control_main_2D_update.m`å’Œ`ring_formation_control_3D_update.m`

### ç‰ˆæœ¬åŒºåˆ«

- **2Dç¼–é˜Ÿæ§åˆ¶**ï¼š
  - åŸå§‹ç‰ˆæœ¬ï¼šåŸºç¡€çš„ç¯å½¢æ‹“æ‰‘2Dç¼–é˜Ÿæ§åˆ¶å®ç°
  - æ›´æ–°ç‰ˆæœ¬ï¼šä¼˜åŒ–äº†æ§åˆ¶å‚æ•°ï¼Œæé«˜äº†ç¼–é˜Ÿç¨³å®šæ€§å’Œæ”¶æ•›é€Ÿåº¦ï¼Œå¢å¼ºäº†å¯¹å¤–éƒ¨å¹²æ‰°çš„æŠµæŠ—èƒ½åŠ›

- **3Dç¼–é˜Ÿæ§åˆ¶**ï¼š
  - åŸå§‹ç‰ˆæœ¬ï¼šåŸºç¡€çš„3Dç©ºé—´ç¼–é˜Ÿæ§åˆ¶å®ç°
  - æ›´æ–°ç‰ˆæœ¬ï¼šæ”¹è¿›äº†é«˜åº¦ååŒç®—æ³•ï¼Œå¢å¼ºäº†ç¢°æ’é¿å…åŠŸèƒ½ï¼Œä¼˜åŒ–äº†å§¿æ€æ§åˆ¶ç²¾åº¦


## 2Då¹³é¢ç¼–é˜Ÿæ§åˆ¶

### æ–¹æ³•ä»‹ç»

2Då¹³é¢ç¼–é˜Ÿæ§åˆ¶åŸºäºç¯å½¢æ‹“æ‰‘ç»“æ„ï¼Œé€šè¿‡åˆ†å¸ƒå¼æ§åˆ¶ç®—æ³•å®ç°å¤šæ— äººæœºåœ¨å¹³é¢å†…çš„ç¼–é˜Ÿé£è¡Œã€‚ä¸»è¦ç‰¹ç‚¹ï¼š

1. **ç¯å½¢æ‹“æ‰‘ç»“æ„**ï¼šæ¯ä¸ªæ— äººæœºåªä¸ç›¸é‚»çš„ä¸¤ä¸ªæ— äººæœºé€šä¿¡ï¼Œå½¢æˆç¯å½¢é€šä¿¡ç½‘ç»œ
2. **åˆ†å¸ƒå¼æ§åˆ¶**ï¼šæ— éœ€ä¸­å¤®æ§åˆ¶å™¨ï¼Œæ¯ä¸ªæ— äººæœºåŸºäºå±€éƒ¨ä¿¡æ¯åšå‡ºå†³ç­–
3. **ä¸€è‡´æ€§ç®—æ³•**ï¼šé€šè¿‡ä¸€è‡´æ€§ç†è®ºä¿è¯æ‰€æœ‰æ— äººæœºæœ€ç»ˆè¾¾åˆ°æœŸæœ›çš„ç¼–é˜Ÿå½¢çŠ¶
4. **è‡ªé€‚åº”æ§åˆ¶**ï¼šèƒ½å¤Ÿé€‚åº”å¤–éƒ¨å¹²æ‰°å’Œåˆå§‹ä½ç½®çš„ä¸ç¡®å®šæ€§

### æ¼”ç¤ºæ•ˆæœ

<img src="./uav_ring_formation2D_update/frames_1/AAAAMerged_image.png" alt="2Dç¼–é˜Ÿæ¼”ç¤º" width="800"/>

## 3Dç©ºé—´ç¼–é˜Ÿæ§åˆ¶

### æ–¹æ³•ä»‹ç»

3Dç©ºé—´ç¼–é˜Ÿæ§åˆ¶åœ¨2Dç¼–é˜Ÿçš„åŸºç¡€ä¸Šï¼Œæ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ï¼Œå®ç°æ›´å¤æ‚çš„ç«‹ä½“ç¼–é˜Ÿé£è¡Œã€‚ä¸»è¦ç‰¹ç‚¹ï¼š

1. **ä¸‰ç»´ç©ºé—´æ§åˆ¶**ï¼šå®ç°æ— äººæœºåœ¨ä¸‰ç»´ç©ºé—´çš„ç¼–é˜Ÿæ§åˆ¶
2. **é«˜åº¦ååŒ**ï¼šåœ¨ä¿æŒå¹³é¢ç¼–é˜Ÿçš„åŒæ—¶ï¼Œåè°ƒæ§åˆ¶é«˜åº¦å˜åŒ–
3. **å§¿æ€æ§åˆ¶**ï¼šè€ƒè™‘æ— äººæœºçš„å§¿æ€åŠ¨åŠ›å­¦ï¼Œå®ç°æ›´ç²¾ç¡®çš„ç©ºé—´ç¼–é˜Ÿ
4. **é²æ£’æ€§è®¾è®¡**ï¼šå¯¹å¤–éƒ¨æ‰°åŠ¨å’Œå‚æ•°ä¸ç¡®å®šæ€§å…·æœ‰è¾ƒå¼ºçš„é²æ£’æ€§
5. **ç¢°æ’é¿å…**ï¼šåŒ…å«ç¢°æ’é¿å…ç®—æ³•ï¼Œç¡®ä¿ç¼–é˜Ÿè¿‡ç¨‹ä¸­æ— äººæœºä¹‹é—´ä¸å‘ç”Ÿç¢°æ’

### æ¼”ç¤ºæ•ˆæœ

<img src="./uav_ring_formation3D_update/frames_2/AAAAAmerged_image.png" alt="3Dç¼–é˜Ÿæ¼”ç¤º" width="800"/>

## ç®—æ³•å®ç°

æœ¬é¡¹ç›®ä¸­çš„ç¼–é˜Ÿæ§åˆ¶ç®—æ³•ä¸»è¦åŸºäºä»¥ä¸‹ç†è®ºï¼š

- å›¾è®ºå’Œæ‹“æ‰‘æ§åˆ¶
- ä¸€è‡´æ€§ç†è®º
- éçº¿æ€§æ§åˆ¶
- åˆ†å¸ƒå¼ä¼˜åŒ–

ç®—æ³•åœ¨MATLABç¯å¢ƒä¸­å®ç°ï¼Œé€šè¿‡ä»¿çœŸéªŒè¯äº†ç®—æ³•çš„æœ‰æ•ˆæ€§å’Œç¨³å®šæ€§ã€‚

## ä½¿ç”¨è¯´æ˜

1. è¿è¡Œ2Dç¼–é˜Ÿæ§åˆ¶ï¼š
   - åŸºç¡€ç‰ˆæœ¬ï¼šæ‰§è¡Œ`ring_formation_control_main_2D.m`
   - ä¼˜åŒ–ç‰ˆæœ¬ï¼šæ‰§è¡Œ`ring_formation_control_main_2D_update.m`ï¼ˆæ¨èï¼‰
2. è¿è¡Œ3Dç¼–é˜Ÿæ§åˆ¶ï¼š
   - åŸºç¡€ç‰ˆæœ¬ï¼šæ‰§è¡Œ`ring_formation_control_3D.m`
   - ä¼˜åŒ–ç‰ˆæœ¬ï¼šæ‰§è¡Œ`ring_formation_control_3D_update.m`ï¼ˆæ¨èï¼‰
3. ä»¿çœŸç»“æœå°†ä¿å­˜åœ¨å¯¹åº”çš„framesæ–‡ä»¶å¤¹ä¸­


## å›¾åƒå¤„ç†å·¥å…·

ä»“åº“ä¸­åŒ…å«äº†ç”¨äºå¤„ç†ä»¿çœŸç”Ÿæˆå›¾åƒçš„Pythonè„šæœ¬ï¼š

- `uav_ring_formation2D_update/frames_1/åˆå¹¶.py`ï¼šç”¨äºå¤„ç†å’Œåˆå¹¶2Dç¼–é˜Ÿä»¿çœŸå›¾åƒ
- `uav_ring_formation3D_update/frames_2/æ–°å»ºæ–‡æœ¬æ–‡æ¡£.py`ï¼šç”¨äºå¤„ç†å’Œåˆå¹¶3Dç¼–é˜Ÿä»¿çœŸå›¾åƒ
è¿™äº›å·¥å…·å¯ä»¥å¸®åŠ©ç”Ÿæˆç¼–é˜Ÿè¿‡ç¨‹çš„å¯è§†åŒ–å±•ç¤ºã€‚


---
[ğŸ‡¨ğŸ‡³ ä¸­æ–‡æ–‡æ¡£](#chinese) | [ğŸ‡ºğŸ‡¸ English](#english)

<a id="english"></a>
# UAV Formation Control Model
[![Status](https://img.shields.io/badge/Status-Completed-brightgreen.svg)](https://github.com) [![Language](https://img.shields.io/badge/Language-MATLAB-blue.svg)](https://www.mathworks.com/products/matlab.html) [![MATLAB Version](https://img.shields.io/badge/MATLAB-2023b%20or%20any-orange.svg)](https://www.mathworks.com/products/matlab.html)

Other formation projects (friend links):
- [Flocking-Formation-Control](https://github.com/Ronchy2000/Flocking-Formation-Control): Flocking/formation control implementations
- [Formation_Control_quadrangular](https://github.com/Ronchy2000/Formation_Control_quadrangular): Quadrangular formation control implementation

This repository contains implementations of UAV formation control algorithms based on ring topology, divided into 2D planar formation and 3D spatial formation modes.

I also maintain other formation-related repos:
- [Flocking-Formation-Control](https://github.com/Ronchy2000/Flocking-Formation-Control): Flocking and formation coordination implementations and experiments
- [Formation_Control_quadrangular](https://github.com/Ronchy2000/Formation_Control_quadrangular): Quadrangular formation control implementation

## Project Structure

This project includes both original and updated versions of formation control algorithm implementations:

- Original versions: `ring_formation_control_main_2D.m` and `ring_formation_control_3D.m`
- Updated versions: `ring_formation_control_main_2D_update.m` and `ring_formation_control_3D_update.m`

### Version Differences

- **2D Formation Control**:
  - Original version: Basic implementation of ring topology 2D formation control
  - Updated version: Optimized control parameters, improved formation stability and convergence speed, enhanced resistance to external disturbances

- **3D Formation Control**:
  - Original version: Basic implementation of 3D spatial formation control
  - Updated version: Improved height coordination algorithm, enhanced collision avoidance functionality, optimized attitude control precision

## 2D Planar Formation Control

### Method Introduction

2D planar formation control is based on ring topology structure, implementing multi-UAV formation flight in a plane through distributed control algorithms. Main features:

1. **Ring Topology Structure**: Each UAV only communicates with two adjacent UAVs, forming a ring communication network
2. **Distributed Control**: No central controller needed, each UAV makes decisions based on local information
3. **Consensus Algorithm**: Ensures all UAVs eventually achieve the desired formation shape through consensus theory
4. **Adaptive Control**: Able to adapt to external disturbances and initial position uncertainties

### Demonstration Effect

<img src="./uav_ring_formation2D_update/frames_1/AAAAMerged_image.png" alt="2Dç¼–é˜Ÿæ¼”ç¤º" width="800"/>

## 3D Spatial Formation Control

### Method Introduction

3D spatial formation control extends 2D formation to three-dimensional space, implementing more complex spatial formation flight. Main features:

1. **Three-dimensional Space Control**: Implements UAV formation control in three-dimensional space
2. **Height Coordination**: Coordinates height changes while maintaining planar formation
3. **Attitude Control**: Considers UAV attitude dynamics for more precise spatial formation
4. **Robust Design**: Strong robustness to external disturbances and parameter uncertainties
5. **Collision Avoidance**: Includes collision avoidance algorithms to ensure no collisions between UAVs during formation

### Demonstration Effect

<img src="./uav_ring_formation3D_update/frames_2/AAAAAmerged_image.png" alt="3Dç¼–é˜Ÿæ¼”ç¤º" width="800"/>

## Algorithm Implementation

The formation control algorithms in this project are mainly based on the following theories:

- Graph theory and topology control
- Consensus theory
- Nonlinear control
- Distributed optimization

The algorithms are implemented in MATLAB environment, and their effectiveness and stability have been verified through simulation.

## Usage Instructions

1. Run 2D formation control:
   - Basic version: Execute `ring_formation_control_main_2D.m`
   - Optimized version: Execute `ring_formation_control_main_2D_update.m` (recommended)
2. Run 3D formation control:
   - Basic version: Execute `ring_formation_control_3D.m`
   - Optimized version: Execute `ring_formation_control_3D_update.m` (recommended)
3. Simulation results will be saved in the corresponding frames folder

## Image Processing Tools

The repository contains Python scripts for processing simulation-generated images:

- `uav_ring_formation2D_update/frames_1/åˆå¹¶.py`: For processing and merging 2D formation simulation images
- `uav_ring_formation3D_update/frames_2/æ–°å»ºæ–‡æœ¬æ–‡æ¡£.py`: For processing and merging 3D formation simulation images

These tools help generate visual presentations of the formation process.
